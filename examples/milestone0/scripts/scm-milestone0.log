
R version 2.14.1 (2011-12-22)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: i686-pc-linux-gnu (32-bit)

R es un software libre y viene sin GARANTIA ALGUNA.
Usted puede redistribuirlo bajo ciertas circunstancias.
Escriba 'license()' o 'licence()' para detalles de distribucion.

R es un proyecto colaborativo con muchos contribuyentes.
Escriba 'contributors()' para obtener más información y
'citation()' para saber cómo citar R o paquetes de R en publicaciones.

Escriba 'demo()' para demostraciones, 'help()' para el sistema on-line de ayuda,
o 'help.start()' para abrir el sistema de ayuda HTML con su navegador.
Escriba 'q()' para salir de R.

> # Copyright (C) 2012 Bitergia
> #
> # This program is free software; you can redistribute it and/or modify
> # it under the terms of the GNU General Public License as published by
> # the Free Software Foundation; either version 3 of the License, or
> # (at your option) any later version.
> #
> # This program is distributed in the hope that it will be useful,
> # but WITHOUT ANY WARRANTY; without even the implied warranty of
> # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
> # GNU General Public License for more details.
> #
> # You should have received a copy of the GNU General Public License
> # along with this program; if not, write to the Free Software
> # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
> #
> # Authors :
> #       Daniel Izquierdo Cortazar <dizquierdo@bitergia.com>
> 
> 
> 
> 
> # This script tests the mileston0.R library found in common dir 
> 
> #
> # Usage:
> #  R --no-restore --no-save --args dbschema user passwd < test.R > script.out
> 
> #
> # Get arguments from the command line
> #
> #  - dbschema: MySQL database schema to use, generated by CVSAnalY2
> #  - user: MySQL user with permissions to access the schema
> #  - passwd: password corresponding to user
> 
> 
> 
> 
> # Get command line args, and produce variables for the script
> args <- commandArgs(trailingOnly = TRUE)
> print(args)
[1] "dizquierdo_webkit_all" "webkit"                "webkit"               
> 
> database <- args[1]
> user <- args[2]
> password <- args[3]
> 
> 
> library(rjson)
> #
> # Create a JSON file with some R object
> #
> createJSON <- function (data, filename) {
+    sink(filename)
+    cat(toJSON(data))
+    sink()
+ }
> 
> 
> #
> # Library with queries
> #
> source("./milestone0.R")
Loading required package: DBI
> 
> #Commits per month
> data_commits = evol_commits()
> 
> #Committers per month
> data_committers = evol_committers()
> 
> #Files per month
> data_files = evol_files()
> 
> #Branches per month
> data_branches = evol_branches()
> 
> #Repositories per month
> data_repositories = evol_repositories()
> 
> 
> agg_data = merge(data_commits, data_committers)
> agg_data = merge(agg_data, data_files)
> agg_data = merge(agg_data, data_branches)
> agg_data = merge(agg_data, data_repositories)
> 
> createJSON (agg_data, "../data/json/scm-milestone0.json")
> 
